%% LaTeX Beamer presentation template (requires beamer package)
%% see http://bitbucket.org/rivanvx/beamer/wiki/Home
%% idea contributed by H. Turgut Uyar
%% template based on a template by Till Tantau
%% this template is still evolving - it might differ in future releases!

\documentclass{beamer}

\mode<presentation>
{
\usetheme{Warsaw}

\setbeamercovered{transparent}
}

\usepackage[english]{babel}
\usepackage[latin1]{inputenc}

% font definitions, try \usepackage{ae} instead of the following
% three lines if you don't like this look
\usepackage{mathptmx}
\usepackage[scaled=.90]{helvet}
\usepackage{courier}

\usepackage[T1]{fontenc}

% User packages
\usepackage[absolute,overlay]{textpos}
\usepackage{tikz}
\usepackage{listings}

\title{CP4CDS - LOT1: Climate Model Data + Compute}

%\subtitle{}

% - Use the \inst{?} command only if the authors have different
%   affiliation.
\author{\vspace{2.3cm}\\
Carsten Ehbrecht\inst{1}
\and Ruth Petrie\inst{2}
\and Ag Stephens\inst{2}
}
%\author{\inst{1}}

% - Use the \inst command only if there are several affiliations.
% - Keep it simple, no one is interested in your street address.
\institute[Institute]
{
\inst{1}%
DKRZ - German Climate Compute Center
\and
\inst{2}%
STFC - Science and Technology Facilities Council
}

\date{\footnotesize{February 2018 - Lot1/Lot2 Workshop at KNMI}}


% This is only inserted into the PDF information catalog. Can be left
% out.
\subject{Talks}



% If you have a file called "university-logo-filename.xxx", where xxx
% is a graphic format that can be processed by latex or pdflatex,
% resp., then you can add a logo as follows:

% \pgfdeclareimage[height=0.5cm]{university-logo}{university-logo-filename}
% \logo{\pgfuseimage{university-logo}}



% Delete this, if you do not want the table of contents to pop up at
% the beginning of each subsection:
\AtBeginSubsection[]
{
\begin{frame}<beamer>
\frametitle{Outline}
\tableofcontents[currentsection,currentsubsection]
\end{frame}
}

% Section title slides
\AtBeginSection[]{
  \begin{frame}
  \vfill
  \centering
  \begin{beamercolorbox}[sep=8pt,center,shadow=true,rounded=true]{title}
    \usebeamerfont{title}\insertsectionhead\par%
  \end{beamercolorbox}
  \vfill
  \end{frame}
}


% If you wish to uncover everything in a step-wise fashion, uncomment
% the following command:

%\beamerdefaultoverlayspecification{<+->}

\begin{document}

\begin{frame}
   % \tikz [remember picture,overlay]
   %  \node at
   %      ([yshift=4.8cm]current page.south)
   %      %or: (current page.center)
   %      {\includegraphics[height=2.8cm]{images/pywps}};
   \titlepage
\end{frame}

\begin{frame}
\frametitle{Outline}
\tableofcontents
% You might wish to add the option [pausesections]
\end{frame}

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Motivation}

%\subsection[Short First Subsection Name]{First Subsection Name}

% -----------------------------------------------
\begin{frame}
\frametitle<presentation>{Let is snow}

  \begin{figure}[ht]
    \centering
    \includegraphics[height=2cm]{images/copernicus-logo}
  \end{figure}

  \begin{itemize}
    \item One
    \item Two
  \end{itemize}

  \centering
  \footnotesize{\url{https://github.com/cp4cds/copernicus-wps-demo}}

\end{frame}

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{CP4CDS Overview}

% -----------------------------------------------
\begin{frame}
\frametitle<presentation>{CP4CDS Services: Data + Compute}

  \begin{figure}[ht]
    \centering
    \includegraphics[height=5cm]{images/cp4cds.png}
  \end{figure}

  \centering
  \footnotesize{\url{https://github.com/cp4cds}}

\end{frame}

% -----------------------------------------------
\begin{frame}
\frametitle<presentation>{CP4CDS Federated Services}

  \begin{figure}[ht]
    \centering
    \includegraphics[height=5cm]{images/cp4cds-federated.png}
  \end{figure}

\end{frame}

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Data Service}

% -----------------------------------------------
\begin{frame}
\frametitle<presentation>{Climate Model Data}

  \begin{itemize}
    \item CMIP5 subset selected for Copernicus.
    \item Quality-checked data.
    \item CORDEX is on its way ...
  \end{itemize}

  \centering
  \footnotesize{\url{https://cp4cds-index1.ceda.ac.uk/projects/cp4cds_ceda/}}

\end{frame}

% -----------------------------------------------
\begin{frame}
\frametitle<presentation>{ESGF}

  \begin{itemize}
    \item Using vanilla ESGF data nodes.
    \item Federated via CEDA, IPSL and DKRZ.
  \end{itemize}

  \centering
  \footnotesize{\url{https://cp4cds-index1.ceda.ac.uk/projects/cp4cds_ceda/}}

\end{frame}

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Compute Service}


% -----------------------------------------------
\begin{frame}
\frametitle<presentation>{CP4CDS Web Processing Service}

  \begin{figure}[ht]
    \centering
    \includegraphics[height=5cm]{images/cp4cds-wps}
  \end{figure}

  \centering
  \footnotesize{\url{https://github.com/cp4cds/copernicus-wps-demo}}

\end{frame}

% -----------------------------------------------
\begin{frame}
\frametitle<presentation>{C3S Magic: Climate Diagnostics}

  \begin{figure}[ht]
    \centering
    \includegraphics[height=5cm]{images/c3s-magic}
  \end{figure}

  \centering
  \footnotesize{\url{https://github.com/c3s-magic}}

\end{frame}

% -----------------------------------------------
\begin{frame}
\frametitle<presentation>{Ansible}

  \begin{figure}[ht]
    \centering
    \includegraphics[height=2cm]{images/ansible}
  \end{figure}

  \begin{itemize}
    \item Using Ansible to deploy CP4CDS WPS service.
    \item Deployment scenarios: single host, cluster, docker orchestration.
  \end{itemize}

  \centering
  \footnotesize{\url{https://github.com/bird-house/birdhouse-ansible/tree/master/demo}}

\end{frame}

% -----------------------------------------------
\begin{frame}
\frametitle<presentation>{Conda}

  \begin{figure}[ht]
    \centering
    \includegraphics[height=2cm]{images/conda_logo}
  \end{figure}

  \begin{itemize}
    \item All Application and Diagnostics software dependencies are managed with Conda.
  \end{itemize}

  \centering
  \footnotesize{\url{https://conda.io/docs/index.html}}

\end{frame}

% -----------------------------------------------
\begin{frame}
\frametitle<presentation>{SDDS}

  \begin{figure}[ht]
    \centering
    \includegraphics[height=5cm]{images/cp4cds-toolbox}
  \end{figure}

  \centering
  \footnotesize{\url{https://github.com/cp4cds/cp4cds-wps-template}}

\end{frame}

% -----------------------------------------------
\begin{frame}
\frametitle<presentation>{Additional Metadata}

  \begin{itemize}
    \item One
    \item Two
  \end{itemize}

\end{frame}

% -----------------------------------------------
\begin{frame}
\frametitle<presentation>{Clients}

  \begin{itemize}
    \item One
    \item Two
  \end{itemize}

\end{frame}

% -----------------------------------------------
\begin{frame}
\frametitle<presentation>{Docker}

  \begin{figure}[ht]
    \centering
    \includegraphics[height=2cm]{images/docker}
  \end{figure}

  \begin{itemize}
    \item Kubernetes Orchestration
    \item PyWPS Docker Extension to launch WPS Jobs as Docker Container
  \end{itemize}

\end{frame}

% -----------------------------------------------
\begin{frame}
\frametitle<presentation>{What is PyWPS?}

  \begin{figure}[ht]
    \centering
    \includegraphics[height=2cm]{images/pywps}
  \end{figure}

  \begin{itemize}
    \item An implementation of the OGC Web Processing Service standard
    \item Implements WPS 1.0.0 standard (WPS 2.0.0 in progress)
    \item Coded in the Python language (researcher friendly)
    \item Easy to hack (developer friendly)
    \item Relevant contributions by over a dozen individuals
    \item OSGeo accreditation around the corner \ldots
  \end{itemize}

  \vspace{0.2cm}
  \centering
  \footnotesize{\url{http://pywps.org}}

\end{frame}

% -----------------------------------------------
\begin{frame}
\frametitle<presentation>{PyWPS Scheduler Extension}

  \begin{figure}[ht]
    \centering
    \includegraphics[height=5cm]{images/pywps-scheduler-extension}
  \end{figure}

  \centering
  \footnotesize{\url{https://github.com/geopython/pywps/blob/develop/docs/extensions.rst}}

\end{frame}

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Summary}

\begin{frame}
\frametitle<presentation>{Summary}

\begin{itemize}

  \item Deployment
\end{itemize}

\end{frame}

% --------------------------------------------------------------
\begin{frame}
%\frametitle<presentation>{}

  \begin{figure}[ht]
   \centering
   \includegraphics[height=4.5cm]{images/for_the_birds}
  \end{figure}

\centering
\Huge{The End}

\centering
\vspace{0.4cm}
\footnotesize{\url{http://bird-house.github.io/}}
\end{frame}

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\appendix

\section{Appendix}

% -----------------------------------------------
\begin{frame}
\frametitle<presentation>{The OGC Web Processing Service}

  \begin{itemize}
    \item OGC open web standard for remote geo-spatial processing.
  \end{itemize}
\end{frame}

\end{document}
